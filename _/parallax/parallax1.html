<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Parallax Slider Menu — Native Dynamic HTML</title>
  <style>
    :root{
      --bg:#0f1115;
      --accent:#ff6b6b;
      --muted:#9aa3b2;
      --ease: cubic-bezier(.22,.9,.33,1);
    }
    *{box-sizing:border-box}
    html,body{height:100%;}
    body{
      margin:0;
      font-family:system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background:var(--bg);
      color:#fff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow:hidden;
    }

    /* App shell */
    .wrap{height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem}
    .slider{
      width:min(1100px,95vw);
      height:72vh;
      max-height:820px;
      background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.12));
      border-radius:18px;
      overflow:hidden;
      position:relative;
      box-shadow:0 10px 40px rgba(0,0,0,0.6);
    }

    /* slides container */
    .slides{height:100%;display:flex;transition:transform 700ms var(--ease);will-change:transform}
    .slide{min-width:100%;height:100%;position:relative;overflow:hidden;display:flex;align-items:center}

    /* parallax layers inside each slide */
    .layer{position:absolute;left:0;top:0;right:0;bottom:0;transform:translate3d(0,0,0);pointer-events:none}
    .layer img, .layer .shape{width:100%;height:100%;object-fit:cover}

    /* content */
    .content{
      position:relative;z-index:20;padding:48px;max-width:640px;transform:translateZ(0);
    }
    h1{font-size:clamp(26px,4vw,44px);margin:0 0 .5rem;letter-spacing:-0.02em}
    p{color:var(--muted);margin:0 0 1.25rem}
    .menu{display:flex;gap:.6rem;flex-wrap:wrap}
    .menu button{background:transparent;border:1px solid rgba(255,255,255,0.08);padding:.6rem .9rem;border-radius:999px;color:var(--muted);cursor:pointer;transition:all .25s var(--ease)}
    .menu button:hover{border-color:rgba(255,255,255,0.12);color:#fff;transform:translateY(-3px)}

    /* overlay gradient to read text */
    .overlay{position:absolute;left:0;top:0;right:0;bottom:0;z-index:10;background:linear-gradient(90deg, rgba(0,0,0,0.55) 0%, rgba(0,0,0,0.12) 40%, rgba(0,0,0,0.0) 70%)}

    /* controls */
    .controls{position:absolute;right:18px;bottom:18px;z-index:30;display:flex;gap:.6rem}
    .dot{width:12px;height:12px;border-radius:50%;background:rgba(255,255,255,0.12);cursor:pointer;border:2px solid rgba(255,255,255,0.03)}
    .dot.active{background:var(--accent);box-shadow:0 6px 18px rgba(255,107,107,0.18);border-color:transparent}

    .arrow{position:absolute;z-index:30;top:50%;transform:translateY(-50%);width:56px;height:56px;border-radius:12px;background:rgba(0,0,0,0.35);backdrop-filter:blur(4px);display:grid;place-items:center;border:1px solid rgba(255,255,255,0.04);cursor:pointer}
    .arrow svg{width:18px;height:18px;display:block}
    .arrow.left{left:14px}
    .arrow.right{right:14px}

    /* small nav at top */
    .topbar{position:absolute;left:18px;top:18px;z-index:40;display:flex;gap:10px;align-items:center}
    .logo{font-weight:700;letter-spacing:.6px}
    .subtitle{font-size:12px;color:var(--muted)}

    /* Responsive tweaks */
    @media (max-width:720px){
      .content{padding:20px}
      .slider{height:76vh}
      .arrow{width:44px;height:44px}
    }

    /* subtle slide parallax layer styles */
    .shape{position:absolute;right:-10%;top:-10%;width:60%;height:120%;opacity:.12;filter:blur(18px);transform-origin:center}

  </style>
</head>
<body>
  <div class="wrap">
    <div class="slider" id="slider">

      <div class="topbar">
        <div class="logo">ParallaxMenu</div>
        <div class="subtitle">native dynamic html demo</div>
      </div>

      <div class="arrow left" data-action="prev" aria-label="Previous slide">
        <!-- chevron -->
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
      </div>
      <div class="arrow right" data-action="next" aria-label="Next slide">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
      </div>

      <div class="slides" id="slides">

        <!-- slide 1 -->
        <section class="slide" data-index="0" style="--bg-grad:linear-gradient(120deg,#232526,#414345)">
          <div class="layer" data-depth="0.12" aria-hidden>
            <!-- abstract shape - CSS background -->
            <div class="shape" style="background:radial-gradient(circle at 30% 30%, rgba(255,107,107,0.9), rgba(255,107,107,0.2) 30%, transparent 50%);"></div>
          </div>
          <div class="layer" data-depth="0.28" aria-hidden>
            <div class="shape" style="right:auto;left:-6%;top:10%;width:50%;height:80%;background:linear-gradient(180deg, rgba(60,72,255,0.55), rgba(15,219,147,0.14));opacity:.14;filter:blur(26px)"></div>
          </div>
          <div class="overlay"></div>
          <div class="content">
            <h1>Explore</h1>
            <p>Parallax slider menu with layered depth. Native HTML, CSS and vanilla JS — lightweight and accessible.</p>
            <div class="menu">
              <button data-action="go" data-to="0">Home</button>
              <button data-action="go" data-to="1">Work</button>
              <button data-action="go" data-to="2">About</button>
              <button data-action="go" data-to="3">Contact</button>
            </div>
          </div>
        </section>

        <!-- slide 2 -->
        <section class="slide" data-index="1" style="--bg-grad:linear-gradient(120deg,#0f2027,#2c5364)">
          <div class="layer" data-depth="0.14">
            <div class="shape" style="background:radial-gradient(circle at 70% 40%, rgba(0,200,255,0.9), transparent 45%);opacity:.12;filter:blur(34px);right:-20%;top:-10%;width:80%;height:120%"></div>
          </div>
          <div class="overlay"></div>
          <div class="content">
            <h1>Work</h1>
            <p>Showcase projects, galleries and interactive demos. Each menu entry can trigger navigation or dynamic content.</p>
            <div class="menu">
              <button data-action="go" data-to="1">Portfolio</button>
              <button data-action="go" data-to="1">Case Studies</button>
              <button data-action="go" data-to="1">Downloads</button>
            </div>
          </div>
        </section>

        <!-- slide 3 -->
        <section class="slide" data-index="2" style="--bg-grad:linear-gradient(120deg,#42275a,#734b6d)">
          <div class="layer" data-depth="0.2">
            <div class="shape" style="background:conic-gradient(from 120deg at 40% 40%, rgba(255,255,255,0.06), rgba(255,255,255,0.0));opacity:.08;filter:blur(28px);right:-10%;top:6%;width:70%;height:110%"></div>
          </div>
          <div class="overlay"></div>
          <div class="content">
            <h1>About</h1>
            <p>Lightweight, accessible and keyboard-friendly: built with progressive enhancement in mind. Easily adaptable to SPA frameworks.</p>
            <div class="menu">
              <button data-action="go" data-to="2">Team</button>
              <button data-action="go" data-to="2">History</button>
            </div>
          </div>
        </section>

        <!-- slide 4 -->
        <section class="slide" data-index="3" style="--bg-grad:linear-gradient(120deg,#134E5E,#71B280)">
          <div class="layer" data-depth="0.18">
            <div class="shape" style="background:radial-gradient(circle at 10% 80%, rgba(255,255,255,0.06), transparent 40%);opacity:.08;filter:blur(20px);left:-10%;top:0;width:70%;height:110%"></div>
          </div>
          <div class="overlay"></div>
          <div class="content">
            <h1>Contact</h1>
            <p>Connect with forms, social links or by launching deep navigation inside your app. The menu can be used as a navigation hub.</p>
            <div class="menu">
              <button data-action="go" data-to="3">Email</button>
              <button data-action="go" data-to="3">Social</button>
            </div>
          </div>
        </section>

      </div><!-- .slides -->

      <!-- dots -->
      <div class="controls" id="dots"></div>

    </div><!-- .slider -->
  </div>

  <script>
    (function(){
      const slider = document.getElementById('slider');
      const slidesEl = document.getElementById('slides');
      const slides = Array.from(slidesEl.children);
      const dotsWrap = document.getElementById('dots');
      let idx = 0;
      let width = slider.clientWidth;
      let isAnimating = false;
      let autoplay = false; // turn on if you want auto-advance
      let autoTimer = null;

      // create dots
      slides.forEach((s,i)=>{
        const d = document.createElement('div');d.className='dot'+(i===0?' active':'');d.dataset.i = i;dotsWrap.appendChild(d);
      });

      // helper: update transform
      function goTo(n, instant){
        if(n<0) n = slides.length-1;
        if(n>slides.length-1) n = 0;
        idx = n;
        const tx = -n * 100;
        if(instant) {
          slidesEl.style.transition = 'none';
        } else {
          slidesEl.style.transition = '';
        }
        slidesEl.style.transform = `translateX(${tx}%)`;
        updateDots();
        // restore transition after instant jump
        if(instant){ requestAnimationFrame(()=>slidesEl.style.transition=''); }
      }

      function updateDots(){
        dotsWrap.querySelectorAll('.dot').forEach(d=>d.classList.toggle('active', +d.dataset.i===idx));
      }

      // navigation
      slider.addEventListener('click', (e)=>{
        const btn = e.target.closest('[data-action]');
        if(!btn) return;
        const action = btn.dataset.action;
        if(action === 'prev') goTo(idx-1);
        if(action === 'next') goTo(idx+1);
        if(action === 'go') goTo(+btn.dataset.to);
      });

      // dots click
      dotsWrap.addEventListener('click',(e)=>{
        const dot = e.target.closest('.dot'); if(!dot) return; goTo(+dot.dataset.i);
      });

      // keyboard
      window.addEventListener('keydown',(e)=>{
        if(e.key === 'ArrowLeft') goTo(idx-1);
        if(e.key === 'ArrowRight') goTo(idx+1);
      });

      // resize -> recalc width
      window.addEventListener('resize', ()=>{ width = slider.clientWidth; });

      // basic touch support (swipe)
      let startX = 0, deltaX = 0, touching=false;
      slidesEl.addEventListener('pointerdown', (e)=>{
        startX = e.clientX; touching = true; slidesEl.style.transition = 'none';
      });
      window.addEventListener('pointermove', (e)=>{
        if(!touching) return; deltaX = e.clientX - startX; slidesEl.style.transform = `translateX(${ -idx*100 + (deltaX/width)*100 }%)`;
      });
      window.addEventListener('pointerup', (e)=>{
        if(!touching) return; touching = false; slidesEl.style.transition = '';
        if(Math.abs(deltaX) > width*0.12) {
          if(deltaX < 0) goTo(idx+1); else goTo(idx-1);
        } else {
          goTo(idx);
        }
        deltaX = 0;
      });

      // parallax mousemove for layers
      slider.addEventListener('mousemove', (e)=>{
        const r = slider.getBoundingClientRect();
        const px = (e.clientX - r.left) / r.width - 0.5; // -0.5 -> 0.5
        const py = (e.clientY - r.top) / r.height - 0.5;
        // animate each layer in active slide
        const active = slides[idx];
        active.querySelectorAll('.layer').forEach(layer=>{
          const depth = parseFloat(layer.dataset.depth) || 0.1;
          const moveX = -px * depth * 30; // tweak sensitivity
          const moveY = -py * depth * 28;
          layer.style.transform = `translate3d(${moveX}px,${moveY}px,0) scale(${1 + depth*0.02})`;
        });
      });

      // reset layers on mouse leave
      slider.addEventListener('mouseleave', ()=>{
        slides.forEach(s=>s.querySelectorAll('.layer').forEach(l=>l.style.transform='translate3d(0,0,0)'));
      });

      // autoplay (optional)
      function startAuto(){ if(!autoplay) return; stopAuto(); autoTimer = setInterval(()=>goTo(idx+1),4000); }
      function stopAuto(){ if(autoTimer) clearInterval(autoTimer); }
      slider.addEventListener('mouseenter', stopAuto);
      slider.addEventListener('mouseleave', startAuto);
      startAuto();

      // initialize
      goTo(0,true);

      // expose small API if needed
      window.ParallaxSlider = {goTo, next:()=>goTo(idx+1), prev:()=>goTo(idx-1), get index(){return idx}};

    })();
  </script>
</body>
</html>
